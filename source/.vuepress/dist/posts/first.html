<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <title>邮件开发指南 | VuePress</title><meta name="description" content="My first VuePress Site">
    <link rel="preload" href="/assets/style-xuLliHyx.css" as="style"><link rel="stylesheet" href="/assets/style-xuLliHyx.css">
    <link rel="modulepreload" href="/assets/app-Dr43Hyy0.js"><link rel="modulepreload" href="/assets/first.html-D9yyRtRt.js">
    <link rel="prefetch" href="/assets/index.html-D2MRrgfG.js" as="script"><link rel="prefetch" href="/assets/get-started.html-Cljv3fD_.js" as="script"><link rel="prefetch" href="/assets/index.html-CnTL4kWQ.js" as="script"><link rel="prefetch" href="/assets/404.html-C_qaIXpv.js" as="script"><link rel="prefetch" href="/assets/index.html-CHZcuYai.js" as="script"><link rel="prefetch" href="/assets/index.html-BgOqXmwe.js" as="script"><link rel="prefetch" href="/assets/index.html-Bu_W7d8B.js" as="script"><link rel="prefetch" href="/assets/index.html-K_apKOju.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="logo" src="https://vuejs.press/images/hero.png" alt="VuePress"><span class="site-name can-hide" aria-hidden="true">VuePress</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--> Home <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/article/" aria-label="Article"><!--[--><!--[--><!--]--> Article <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/profile/" aria-label="Profile"><!--[--><!--[--><!--]--> Profile <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/tag/" aria-label="Tag"><!--[--><!--[--><!--]--> Tag <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/timeline/" aria-label="Timeline"><!--[--><!--[--><!--]--> Timeline <!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--> Home <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/article/" aria-label="Article"><!--[--><!--[--><!--]--> Article <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/profile/" aria-label="Profile"><!--[--><!--[--><!--]--> Profile <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/tag/" aria-label="Tag"><!--[--><!--[--><!--]--> Tag <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/timeline/" aria-label="Timeline"><!--[--><!--[--><!--]--> Timeline <!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">邮件开发指南 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="#doctype" aria-label="DOCTYPE"><!--[--><!--[--><!--]--> DOCTYPE <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#邮件中的-html" aria-label="邮件中的 HTML"><!--[--><!--[--><!--]--> 邮件中的 HTML <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#邮件中的-css" aria-label="邮件中的 CSS"><!--[--><!--[--><!--]--> 邮件中的 CSS <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#cell-模型" aria-label="cell 模型"><!--[--><!--[--><!--]--> cell 模型 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#space-间隙" aria-label="Space 间隙"><!--[--><!--[--><!--]--> Space 间隙 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#垂直居中" aria-label="垂直居中"><!--[--><!--[--><!--]--> 垂直居中 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#水平居中" aria-label="水平居中"><!--[--><!--[--><!--]--> 水平居中 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#空白符" aria-label="空白符"><!--[--><!--[--><!--]--> 空白符 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#pre-view" aria-label="Pre-view"><!--[--><!--[--><!--]--> Pre-view <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#文字颜色" aria-label="文字颜色"><!--[--><!--[--><!--]--> 文字颜色 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#小号字体" aria-label="小号字体"><!--[--><!--[--><!--]--> 小号字体 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#文本溢出省略" aria-label="文本溢出省略"><!--[--><!--[--><!--]--> 文本溢出省略 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#mobile-outlook-嵌套-table-丢失宽度" aria-label="Mobile Outlook 嵌套 table 丢失宽度"><!--[--><!--[--><!--]--> Mobile Outlook 嵌套 table 丢失宽度 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#图片加载" aria-label="图片加载"><!--[--><!--[--><!--]--> 图片加载 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#机型对渲染的影响" aria-label="机型对渲染的影响"><!--[--><!--[--><!--]--> 机型对渲染的影响 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#响应式布局" aria-label="响应式布局"><!--[--><!--[--><!--]--> 响应式布局 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#避免进入垃圾箱" aria-label="避免进入垃圾箱"><!--[--><!--[--><!--]--> 避免进入垃圾箱 <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="#测试工具" aria-label="测试工具"><!--[--><!--[--><!--]--> 测试工具 <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><p>邮件模板使用 HTML 开发。由于 head 标签中的 style 会被删除，所以不能够使用 class 方式，而是使用标签中的 inline-style 开发。推荐使用 <code>maizzle</code> 能够将 tailwind class 编译为 inline-style。</p><p>邮件发送后，经过客户端加工过，所以某些标签可能会触发客户端定义的规则。</p><p>SMTP 报文发送给邮件服务商，服务商的后端会对报文做处理，图片的链接会代理一层服务，实际上请求的不是图片的原链接，而是服务商的中间层服务器做了一次转发。邮件服务端还可能会对报文的一些标签、样式做出强制替换处理。</p><p>打开邮件时，由客户端对邮件模板进行渲染。 客户端对 CSS 兼容性、服务端对 User-agent 的判断以及各种安全策略都会导致一封邮件的渲染出现差异。 所以邮件模板的兼容性也使人头疼。</p><h3 id="doctype" tabindex="-1"><a class="header-anchor" href="#doctype"><span>DOCTYPE</span></a></h3><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span> <span class="token string">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="邮件中的-html" tabindex="-1"><a class="header-anchor" href="#邮件中的-html"><span>邮件中的 HTML</span></a></h3><p>大多数邮件客户端渲染引擎都不支持 HTML5 和 CSS3 的特性，除此之外，也不支持 flex、float 、 box-shadow 等样式。</p><p>邮件的布局基本只能依赖 table 布局，因为有的客户端还会除去 div 标签的 inline-style。 推荐使用的标签：</p><p><code>&lt;table&gt;</code><code>&lt;tbody&gt;</code><code>&lt;tr&gt;</code><code>&lt;td&gt;</code><code>&lt;p&gt;</code><code>&lt;img /&gt;</code><code>&lt;a&gt;</code><code>&lt;h1&gt;</code><code>&lt;h5&gt;</code><code>&lt;em&gt;</code><code>&lt;strong&gt;</code><code> &lt;br /&gt;</code><code>&lt;/strong&gt;``&lt;/em&gt; </code></p><h3 id="邮件中的-css" tabindex="-1"><a class="header-anchor" href="#邮件中的-css"><span>邮件中的 CSS</span></a></h3><blockquote><p>客户端自带一些内联样式表，邮件<code>&lt;head&gt;</code>中携带的样式表在一些客户端会被除去，所以需要使用 inline-style 来编写样式。</p></blockquote><p>查询 CSS 在邮件客户端的兼容性：https://www.caniemail.com/</p><p>受兼容性影响的 CSS</p><ul><li>flex</li><li>float</li><li>max-width</li><li>max-height</li><li>background 缩写</li></ul><p>可以替代的 CSS</p><ul><li>inline-block -&gt; table</li><li>background-image -&gt; background-colo</li><li>align</li><li>width -&gt; <code>&lt;td width=* /&gt;</code></li><li>height -&gt; <code>&lt;td height=* /&gt;</code></li></ul><h3 id="cell-模型" tabindex="-1"><a class="header-anchor" href="#cell-模型"><span>cell 模型</span></a></h3><p>在使用 <code>div</code> + 盒模型布局时，经常用到<code> margin + padding + border-box</code> 或是 <code>flex</code> 来布局。</p><p>在 <code>table</code> 布局中，<code>td</code> 看做一个最小的单位，作为表格中的一个 <code>cell</code>。 <code>td</code> 的 <code>display</code> 等同 <code>table-cell</code>，宽度可以被撑起，也可以自动分配。 td 不支持设置 margin 但支持 padding。</p><p>如果要设置定宽和定高。</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表格等高，处于同一 <code>tr</code> 内的 <code>td</code> ，高度取决于最高的元素。</p><h3 id="space-间隙" tabindex="-1"><a class="header-anchor" href="#space-间隙"><span>Space 间隙</span></a></h3><p>实现上下两行之间的边距</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token entity named-entity" title=" ">&amp;nbsp;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="垂直居中" tabindex="-1"><a class="header-anchor" href="#垂直居中"><span>垂直居中</span></a></h3><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">vertical-aligh</span><span class="token punctuation">:</span>middle</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>❌ &lt;td valign=”&quot;middle&quot;&gt; ✅<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="水平居中" tabindex="-1"><a class="header-anchor" href="#水平居中"><span>水平居中</span></a></h3><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>地址标记 比如下面左图展示了 footer 的 copyright 在 Gmail 的移动端的展示情况。右图是 PC 端展示情况。</p><p>如左图所示，一段类似地址信息的文本被套上了 a 标签，该 a 标签具有 color: #15c 的属性。并且点击后能够跳转该地址的地图页面。对应方案如右图。 在地址信息中插入 span 标签，防止客户端解析出地址信息。</p><h3 id="空白符" tabindex="-1"><a class="header-anchor" href="#空白符"><span>空白符</span></a></h3><p>一般用作预览文案截断</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span>
  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 0px <span class="token important">!important</span><span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span>0px <span class="token important">!important</span><span class="token punctuation">;</span> <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span>10px<span class="token punctuation">;</span><span class="token property">max-height</span><span class="token punctuation">:</span> 0px <span class="token important">!important</span><span class="token punctuation">;</span> <span class="token property">overflow</span><span class="token punctuation">:</span> hidden <span class="token important">!important</span><span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span>
<span class="token punctuation">&gt;</span></span>
  \n
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>空白符经过编码后，可能不会被正确的渲染。</p><p>替换: ✅</p><div height="10" style="font-size:0px !important;line-height:0px !important;display:none !important;height:10px;max-height:0px !important;overflow:hidden !important;"> ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ‌  ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ‌  ͏ ͏ ͏ ͏ ͏ </div><h3 id="pre-view" tabindex="-1"><a class="header-anchor" href="#pre-view"><span>Pre-view</span></a></h3><p>用于用户打开邮件前的预览。</p><div style="display:none;font-size:1px;color:#333333;line-height:10px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"> </div><div height="10" style="font-size:0px !important;line-height:0px !important;display:none !important;height:10px;max-height:0px !important;overflow:hidden !important;">͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ͏ ‌ ͏ ͏ ͏ ͏ ͏</div><h3 id="文字颜色" tabindex="-1"><a class="header-anchor" href="#文字颜色"><span>文字颜色</span></a></h3><ol><li><p>尽量使用 hex, 避免简写和小写。 color: #FFFFFF;</p></li><li><p>邮件对颜色透明度的兼容性不佳，尽量换算成不带透明度的色值</p></li></ol><h3 id="小号字体" tabindex="-1"><a class="header-anchor" href="#小号字体"><span>小号字体</span></a></h3><p>在 Gmail 的移动端 web / 客户端内，小于 14px 的字体可能会被改成 18px。 Outlook 允许最小字号 17px。 即使加了一段 CSS</p><div class="language-css line-numbers-mode" data-ext="css" data-title="css"><pre class="language-css"><code> <span class="token punctuation">{</span>
  <span class="token property">-ms-text-size-adjust</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">-webkit-text-size-adjust</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也并不能防止客户端从邮件报文中更改字体大小。</p><h3 id="文本溢出省略" tabindex="-1"><a class="header-anchor" href="#文本溢出省略"><span>文本溢出省略</span></a></h3><p><code>overflow: hidden;</code>生效的前提是盒模型有定宽和定高。</p><p><code>text-overflow: ellisp; </code>生效的前提是 <code>overflow: hidden; white-space: nowrap; word-break： break-all</code> 生效。</p><ul><li>文本单行省略： 对元素高度限定， Gmail Yahoo 客户端可以截断溢出文本， Gmail 可以在截断后显示省略号。</li><li>文本全部展示：不对元素高度做出限定</li></ul><h3 id="mobile-outlook-嵌套-table-丢失宽度" tabindex="-1"><a class="header-anchor" href="#mobile-outlook-嵌套-table-丢失宽度"><span>Mobile Outlook 嵌套 table 丢失宽度</span></a></h3><p>https://stackoverflow.design/email/base/mso/</p><blockquote><p>The main way we use MSO tags in our emails is to create “ghost tables” so hybrid emails don’t fall apart in Outlook. Hybrid design uses inline-block, max-width, min-width to stack table columns. Outlook doesn’t support these CSS properties, so we use MSO tags to create “ghost tables” that apply a fixed width just for Outlook.</p></blockquote><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token comment">&lt;!--[if mso]&gt;
    &lt;table role=&quot;presentation&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot;&gt;&lt;tr&gt;&lt;td width=&quot;340&quot;&gt;
&lt;![endif]--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>inline-block<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span> <span class="token property">min-width</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span> <span class="token property">max-width</span><span class="token punctuation">:</span>340px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span>
<span class="token punctuation">&gt;</span></span>
  Outlook can’t render the CSS in this DIV but other email clients can, so we
  wrap this in a ghost table that replicates the DIV’s desktop style. In this
  case, a container 340px wide.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--[if mso]&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;![endif]--&gt;</span>

Without the ghost table above, Outlook would display the
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  at 100% width. Learn how we use ghost tables to make our emails responsive.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="图片加载" tabindex="-1"><a class="header-anchor" href="#图片加载"><span>图片加载</span></a></h3><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置 width height 能够确保加载之前不会破坏模板结构。</p><ul><li>图片比例过大或者只是简单切图组成的邮件称为垃圾邮件的概率很大，多数邮箱对图片大小也有限制，一般图片超过 150k 后几乎所有邮箱都不会默认加载邮件中的图片</li></ul><h3 id="机型对渲染的影响" tabindex="-1"><a class="header-anchor" href="#机型对渲染的影响"><span>机型对渲染的影响</span></a></h3><p>服务商对 <code>http header: User-agent</code> 作了判断，作了一些加工处理。 Gmail 对 iPhone 5/6/7 等小屏机型会对字号进行放大处理，对元素宽高都会进行一定比例放大。</p><p>对于 iPhone 11 等大屏手机则没有上述处理。</p><p>Outlook 客户端无法渲染超出 Microsoft word 不支持的样式，因为渲染引擎采用了 Microsoft word 的文本渲染引擎处理邮件报文，再返回给浏览器或者客户端渲染 (webview)。</p><h3 id="响应式布局" tabindex="-1"><a class="header-anchor" href="#响应式布局"><span>响应式布局</span></a></h3><p>使用媒体查询来检测屏幕宽度，更改元素的布局</p><ul><li>检测屏幕宽度而不是 UA/机型</li><li>媒体查询支持度有限 响应式设计 响应式设计能够让邮件看起来更稳定和美观，避免嵌套的复杂布局。</li><li>在 PC 端展示的邮件宽度为 600px</li><li>在移动端展示的邮件宽度为 100% (outlook 需要设定固定宽度，在 if mso 条件渲染中设定为 600px) 推荐先浏览一遍下面的 article： https://www.campaignmonitor.com/dev-resources/ https://www.campaignmonitor.com/dev-resources/guides/design/ 布局策略</li></ul><ol><li>Mobile First</li></ol><ul><li>Considers the mobile user a priority 优先考虑移动用户</li><li>One layout for all screen sizes 所有尺寸的屏幕使用一个布局</li><li>Single column design： 320-500px 单列宽度： 320-500px</li><li>Large text &amp; buttons 较大的文本和按钮</li><li>Generous whitespace 丰富的空隙</li><li>Short concise body copy</li></ul><ol start="2"><li>Fluid</li></ol><ul><li>Percentage-based widths（百分比宽度）</li><li>Adapts to fit the screen（适应屏幕）</li><li>Text wraps automatically（文本自动换行）</li></ul><ol start="3"><li>Responsive</li></ol><ul><li><p>Resize content: make images fit, make text larger 调整内容大小：使图像合适，使文本更大</p></li><li><p>Hide content on mobile 在手机端隐藏内容</p></li><li><p>Stack columns 将列布局堆叠</p></li><li><p>Move a two-column design to a one-column design 两列布局变为单列布局</p></li><li><p>尽量避免外层容器的定高定宽，尽量以 content + padding 方式填充宽高。 Example:<br> 300px 宽 - 50px 高的按钮，按钮文本 18px， UI 不一定符合预期。 因为在移动端，定高可能会被强制放大/缩小 1.x 倍。导致字体行高过高/低，文字下沉/上浮。 文本翻译为其他语言，可能导致文字数增多换行，文本高度大于按钮高度。 Solution: 样式更改为：font-size: 18px; padding： 30px 60px; 确保由 padding + content 填充， UI 一致</p></li><li><p>避免邮件模板定宽 邮件宽度 375px，如果大于展示宽度，有的客户端不支持横向 scroll，模板则只能展示一部分。</p></li><li><p>outlook 中嵌套的 table 如果没有定高，会丢失宽度，所以复杂布局最好有纵列的响应式布局</p></li></ul><h3 id="避免进入垃圾箱" tabindex="-1"><a class="header-anchor" href="#避免进入垃圾箱"><span>避免进入垃圾箱</span></a></h3><p>https://stackoverflow.design/content/guidelines/grammar-and-mechanics/#buttons-and-links</p><h3 id="测试工具" tabindex="-1"><a class="header-anchor" href="#测试工具"><span>测试工具</span></a></h3><p>chrome 浏览器可以通过浏览器模拟机型（发送一个相应手机机型的 UA）来检查 mobile web 端的渲染情况。</p><p><a href="https://www.accessible-email.org/checker/editor.php" target="_blank" rel="noopener noreferrer">accessible-email<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://www.htmlemailcheck.com/check/" target="_blank" rel="noopener noreferrer">HTML MAIL CHECK<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://everest.validity.com/login?r=%2Fdesign%2F" target="_blank" rel="noopener noreferrer">everest<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: m13182371876@163.com">cumt_lty</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: www.caiyue@qq.com">cy-98</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Dr43Hyy0.js" defer></script>
  </body>
</html>
